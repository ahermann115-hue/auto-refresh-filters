      - name: üìù Commit and Push Files
        env:
          GH_TOKEN: ${{ secrets.AUTO_UPDATE_TOKEN }}
        run: |
          # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º git
          git config --global user.name "GitHub Actions Bot"
          git config --global user.email "actions@github.com"
          
          echo "üîç –ü–†–û–í–ï–†–Ø–ï–ú –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´..."
          echo "================================="
          
          # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–æ
          echo "üìÅ –§–∞–π–ª—ã –≤ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:"
          ls -la blacklist.*
          
          # 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º blacklist.txt
          if [ ! -f "blacklist.txt" ]; then
            echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: blacklist.txt –Ω–µ —Å–æ–∑–¥–∞–Ω!"
            exit 1
          fi
          
          # 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º blacklist.bin
          if [ ! -f "blacklist.bin" ]; then
            echo "‚ùå –í–ê–ñ–ù–û: blacklist.bin –Ω–µ —Å–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç–æ–º!"
            echo "üõ†Ô∏è –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π .bin —Ñ–∞–π–ª –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å..."
            
            # –°–æ–∑–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π .bin —Ñ–∞–π–ª
            python3 << 'EOF'
import struct
# –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 10 –¥–æ–º–µ–Ω–æ–≤ –∏–∑ blacklist.txt
domains = []
try:
    with open('blacklist.txt', 'r') as f:
        for line in f:
            line = line.strip()
            if line and not line.startswith('#'):
                domains.append(line)
                if len(domains) >= 10:
                    break
except:
    domains = ["test1.com", "test2.com", "test3.com"]

print(f"–°–æ–∑–¥–∞–µ–º .bin —Ñ–∞–π–ª —Å {len(domains)} –¥–æ–º–µ–Ω–∞–º–∏...")
with open('blacklist.bin', 'wb') as f:
    f.write(struct.pack('<i', 1))  # –≤–µ—Ä—Å–∏—è
    f.write(struct.pack('<i', len(domains)))  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
    
    for domain in domains:
        data = domain.encode('utf-8')
        f.write(struct.pack('<i', len(data)))  # –¥–ª–∏–Ω–∞
        f.write(data)  # –¥–æ–º–µ–Ω

print(f"‚úÖ blacklist.bin —Å–æ–∑–¥–∞–Ω: {len(domains)} –¥–æ–º–µ–Ω–æ–≤")
EOF
            
            if [ ! -f "blacklist.bin" ]; then
              echo "üí• –ù–ï–í–û–ó–ú–û–ñ–ù–û –°–û–ó–î–ê–¢–¨ blacklist.bin!"
              exit 1
            fi
          fi
          
          # 3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–∞—Ö
          echo ""
          echo "üìä –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –§–ê–ô–õ–ê–•:"
          echo "----------------------"
          
          # blacklist.txt
          txt_lines=$(grep -c '^[^#]' blacklist.txt || echo "0")
          txt_size=$(stat -c%s blacklist.txt 2>/dev/null || stat -f%z blacklist.txt)
          echo "üìÑ blacklist.txt:"
          echo "   ‚Ä¢ –î–æ–º–µ–Ω–æ–≤: $txt_lines"
          echo "   ‚Ä¢ –†–∞–∑–º–µ—Ä: $txt_size –±–∞–π—Ç"
          
          # blacklist.bin
          bin_size=$(stat -c%s blacklist.bin 2>/dev/null || stat -f%z blacklist.bin)
          echo "üíæ blacklist.bin:"
          echo "   ‚Ä¢ –†–∞–∑–º–µ—Ä: $bin_size –±–∞–π—Ç"
          
          # 4. –í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–µ–º –û–ë–ê —Ñ–∞–π–ª–∞ –≤ git
          echo ""
          echo "‚ûï –î–û–ë–ê–í–õ–Ø–ï–ú –§–ê–ô–õ–´ –í GIT..."
          echo "---------------------------"
          
          # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –æ–±–∞ —Ñ–∞–π–ª–∞
          git add blacklist.txt
          echo "   ‚úÖ blacklist.txt –¥–æ–±–∞–≤–ª–µ–Ω"
          
          git add blacklist.bin
          echo "   ‚úÖ blacklist.bin –¥–æ–±–∞–≤–ª–µ–Ω"
          
          # 5. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
          echo ""
          echo "üìä –°–¢–ê–¢–£–° GIT:"
          echo "-------------"
          git status
          
          # 6. –°–æ–∑–¥–∞–µ–º –∫–æ–º–º–∏—Ç –ï–°–õ–ò –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
          echo ""
          echo "üìù –ü–†–û–í–ï–†–Ø–ï–ú –ò–ó–ú–ï–ù–ï–ù–ò–Ø..."
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–Ω–¥–µ–∫—Å–µ
          if ! git diff --cached --quiet; then
            echo "üîÑ –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–æ–∑–¥–∞–µ–º –∫–æ–º–º–∏—Ç..."
            
            # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞
            commit_msg="ü§ñ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ blacklist $(date +'%Y-%m-%d %H:%M:%S')
            
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
‚Ä¢ TXT: $txt_lines –¥–æ–º–µ–Ω–æ–≤
‚Ä¢ BIN: $bin_size –±–∞–π—Ç
‚Ä¢ –í—Å–µ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã"
            
            echo -e "$commit_msg" > commit_message.txt
            
            # –ö–æ–º–º–∏—Ç–∏–º
            git commit -F commit_message.txt
            
            # –ü—É—à–∏–º
            echo "üöÄ –ü—É—à–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π..."
            git push "https://x-access-token:${GH_TOKEN}@github.com/${{ github.repository }}.git" HEAD:main
            
            echo ""
            echo "‚úÖ –£–°–ü–ï–®–ù–û –û–ë–ù–û–í–õ–ï–ù–û!"
            echo "====================="
            echo "üìÑ blacklist.txt: https://raw.githubusercontent.com/${{ github.repository }}/main/blacklist.txt"
            echo "üíæ blacklist.bin: https://raw.githubusercontent.com/${{ github.repository }}/main/blacklist.bin"
            
            rm -f commit_message.txt
            
          else
            echo "‚ÑπÔ∏è –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞"
            
            # –ù–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ .bin —Ñ–∞–π–ª –µ—Å—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
            if ! git ls-files blacklist.bin > /dev/null 2>&1; then
              echo "‚ö†Ô∏è blacklist.bin –Ω–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –Ω–æ –æ–Ω —Å–æ–∑–¥–∞–Ω!"
              echo "üîÑ –î–æ–±–∞–≤–ª—è–µ–º .bin —Ñ–∞–π–ª –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π..."
              
              git add blacklist.bin
              git commit -m "‚ûï –î–æ–±–∞–≤–ª—è–µ–º –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª blacklist.bin"
              git push "https://x-access-token:${GH_TOKEN}@github.com/${{ github.repository }}.git" HEAD:main
              
              echo "‚úÖ blacklist.bin –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!"
            fi
          fi
          
          echo ""
          echo "üéâ –†–ê–ë–û–¢–ê –ó–ê–í–ï–†–®–ï–ù–ê!"
